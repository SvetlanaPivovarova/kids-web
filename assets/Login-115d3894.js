import{_ as c,H as h,P as g,b as f,r as a,o as w,c as x,d as i,e,w as n,v as l,n as d,t as m,f as p,g as v,F as I}from"./index-d4af763c.js";const C={name:"Login",components:{Header:h},data(){return{email:"",password:"",name:"",errorEmail:null,errorPassword:null,errorName:null,emailInputClass:"input-text",codeInputClass:"input-text",isLoggedIn:!1}},computed:{isEmailValid(){return g.EMAIL.test(this.email)}},methods:{handleAuthorize(){f(this.email,this.password).then(()=>{this.isLoggedIn=!0,localStorage.setItem("isLoggedIn",this.isLoggedIn),this.$router.push("/video")}).catch(()=>{this.codeInputClass="input-text input-text_type_error"})}}},L={class:"form"},E=e("h2",{class:"form__heading"},"Рады снова видеть!",-1),b={class:"form__wrapper"},V={class:"form-control"},y={class:"input-text__error-message"},k={class:"form-control"},z={class:"input-text__error-message"},A=["disabled"],N={class:"input-text__message"};function P(H,t,T,B,s,r){const u=a("Header"),_=a("RouterLink");return w(),x(I,null,[i(u),e("div",L,[E,e("div",b,[e("div",V,[n(e("input",{class:d(s.emailInputClass),type:"email",id:"e-mail",placeholder:"Email","onUpdate:modelValue":t[0]||(t[0]=o=>s.email=o)},null,2),[[l,s.email,void 0,{trim:!0}]]),e("span",y,m(s.errorEmail),1)]),e("div",k,[n(e("input",{class:d(s.emailInputClass),type:"password",id:"password",placeholder:"Password","onUpdate:modelValue":t[1]||(t[1]=o=>s.password=o)},null,2),[[l,s.password,void 0,{trim:!0}]]),e("span",z,m(s.errorPassword),1)]),e("button",{class:"button button__primary button_type_medium",onClick:t[2]||(t[2]=(...o)=>r.handleAuthorize&&r.handleAuthorize(...o)),disabled:!r.isEmailValid||!this.password}," Войти ",8,A)]),e("div",N,[p("Ещё не зарегистрированы? "),i(_,{to:"/register"},{default:v(()=>[p("Регистрация")]),_:1})])])],64)}const S=c(C,[["render",P]]);export{S as default};
